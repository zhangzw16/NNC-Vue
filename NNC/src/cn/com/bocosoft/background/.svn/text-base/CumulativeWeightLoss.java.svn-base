package cn.com.bocosoft.background;

import java.util.List;

import javax.annotation.Resource;

import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

import cn.com.bocosoft.common.BocosoftUitl;
import cn.com.bocosoft.common.BsetConsts;
import cn.com.bocosoft.model.UserWeightData;
import cn.com.bocosoft.service.UserInfoService;

public class CumulativeWeightLoss {
    /** 日志对象 */
    private static final Logger LOG = LoggerFactory.getLogger(CumulativeWeightLoss.class);
    
    @Resource
    UserInfoService userInfoService;
    public void run() {
//        LOG.info("The task of warm dietitian started.");
//        String parentPath = getClass().getResource("/").getFile().toString();
//        
//        String filePath = parentPath + BsetConsts.TIME_FILEPATH;
//        String date = BocosoftUitl.readTxtFile(filePath);
//        List<UserWeightData> uwds = userInfoService.findUserWeightDataByDate(date);
//        if (uwds.size() > 0) {
//            Double weight = 0.0;
//            for (UserWeightData uwd : uwds) {
//                weight = (weight * BsetConsts.WEIGHT_NUMBER + uwd.getDeltaWeight() * BsetConsts.WEIGHT_NUMBER) / BsetConsts.WEIGHT_NUMBER;
//            }
//            String weightPath = parentPath + BsetConsts.WEIGHT_LOSS_FILEPATH;
//            String tmpWeight = BocosoftUitl.readTxtFile(weightPath);
//            LOG.info("Cumulative Weight Loss："+tmpWeight);
//            Double weightLoss = (Double.valueOf(tmpWeight) * BsetConsts.WEIGHT_NUMBER + weight * BsetConsts.WEIGHT_NUMBER) / BsetConsts.WEIGHT_NUMBER;
//            LOG.info("To calculate Cumulative Weight Loss："+weightLoss);
//            BocosoftUitl.setTxtMessage(String.valueOf(weightLoss), weightPath);
//        }
//        LOG.info("The task of update Cumulative Weight Loss ended.");
    }
}
